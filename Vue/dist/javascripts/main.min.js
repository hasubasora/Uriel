function Agumon(){this.erId="",this.minLength=2,this.maxLength=10,this.minError="最少限制是"+this.minLength,this.maxError="最大限制是"+this.maxLength,this.setTime=60,this.reg=/^0?1[3|4|5|7|8][0-9]\d{8}$/,this.dotError="输入正确规则数字..."}function fn(e,t){document.addEventListener("click",function(n){n.target!==e&&(t.style.display="none")}),t.addEventListener("click",function(e){e.stopPropagation()}),e.addEventListener("click",function(e){var n=t.style.display;"none"===n?t.style.display="block":t.style.display="none"})}var keyControl={numKey:function(e){e.value=e.value.replace(/[^\d]/g,"")},flostKey:function(e){e.value=e.value.replace(/[^\d\.]/g,"").replace(/^[^\d]/g,"")},zeroKey:function(e){e.value=e.value.replace(/^0(?=[0-9])/,"")},dotId:"",dotError:"输入正确规则数字...",oneKey:function(e){var t=e.value.search(/[\.]/g),n=e.value.lastIndexOf(".");t!=n&&(id(keyControl.dotId).innerHTML=keyControl.dotError)},telId:"",telError:"×手机号不正确...",telNight:"√手机号正确",telKey:function(e){var t=/^0?1[3|4|5|7|8][0-9]\d{8}$/;return t.test(e.value)?void(id(keyControl.telid).innerHTML=keyControl.telNight):(id(keyControl.telid).innerHTML=keyControl.telError,!1)},id:function(e){return document.getElementById(e)},maxLength:10,minLength:2,maxStr:"超过最大限制",minStr:"最少输入几位数",strId:"",strLength:function(e){return e.value.length>=keyControl.maxLength?(id(keyControl.strId).innerHTML=keyControl.maxStr,!1):e.value.length<=keyControl.minLength?(id(keyControl.strId).innerHTML=keyControl.minStr,!1):void(id(keyControl.strId).innerHTML="")},successColor:function(){},errorColor:function(){},setTimeBtn:"",setTime:60,timeSix:function(){var e=setInterval(function(){keyControl.setTime>0?(id(keyControl.setTimeBtn).setAttribute("disabled","disabled"),id(keyControl.setTimeBtn).value="("+keyControl.setTime+")重新获取",keyControl.setTime--):(clearInterval(e),id(keyControl.setTimeBtn).removeAttribute("disabled"),id(keyControl.setTimeBtn).value="获取验证码",keyControl.setTime=60)},1e3)},identicalTwo:"",identicalError:"",identical:function(e){e.value!=id(keyControl.identicalTwo).value?id(keyControl.identicalError).value="密码不一致":id(keyControl.identicalError).value=""}};Agumon.prototype={strLength:function(e){return e.value.length>=this.maxLength?(id(this.erId).innerHTML=this.maxError,!1):e.value.length<=this.minLength?(id(this.erId).innerHTML=this.minError,!1):(id(this.erId).innerHTML="",!0)},ploneKey:function(e){return this.reg.test(e.value)?(id(this.erId).innerHTML=this.maxError,!0):(id(this.erId).innerHTML=this.minError,!1)},oneKey:function(e){var t=e.value.search(/[\.]/g),n=e.value.lastIndexOf(".");t!=n&&(id(this.erId).innerHTML=this.dotError)},numKey:function(e){e.value=e.value.replace(/[^\d]/g,"")},flostKey:function(e){e.value=e.value.replace(/[^\d\.]/g,"").replace(/^[^\d]/g,"")},zeroKey:function(e){e.value=e.value.replace(/^0(?=[0-9])/,"")},ltrim:function(e){return e.replace(/(^\s*)/g,"")},rtrim:function(e){return e.replace(/(\s*$)/g,"")},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")}};var agumon=new Agumon;fn(btn,div);var month={filter:{},DataTables:"",init:function(){_this=this,$(".addAccount").on("click",function(){}),$("#proSelect").on("change",function(){}),$("[name=tDnum]").on("blur",function(){}),$("[name=tDnum]").on("keyup",function(){}),DataTables=$("#table_id").DataTable({processing:!0,serverSide:!0,sEmptyTable:!0,sLoadingRecords:!0,scrollX:!1,searching:!1,ordering:!1,paging:!0,bAutoWidth:!0,bLengthChange:!0,aaSorting:[[1,"desc"]],aLengthMenu:[[10,50,100],[10,50,100]],order:[[0,"desc"]],ajax:{url:AccountData,type:"post",data:function(e){e.filter=_this.filter}},dom:'<"row"<"#id.col-xs-6"r><"col-xs-6">>t<"row"<"col-xs-6"i><"col-xs-6"p>>',aoColumns:[null,null,{orderSequence:["asc"]},{orderSequence:["desc","asc","asc"]},{orderSequence:["desc"]},null],columnDefs:[{targets:0,data:"",title:"操作",render:function(e,t,n,r){return"0"==n[11]?'<input type="checkbox"  name="checkBoxes" data-id="'+n[2]+'">':'<input type="checkbox" disabled name="checkBoxes" data-id="'+n[2]+'">'}},{targets:9,visible:!1},{targets:11,render:function(e,t,n,r){return"1"==e?"审核中":"0"==e?"待申请结算":"2"==e?"审核通过":"3"==e?"审核不通过":e}},{targets:8,data:"",title:"操作",render:function(e,t,n,r){return'<input type="checkbox" name="checkBoxes" data-id="'+n[8]+'">'}}],initComplete:function(){$("#id").append("input")},createdRow:function(e,t,n){1*t[2].replace(/[\$,]/g,"")>4e3&&$("td",e).eq(2).html('<div style="border:1px solid red;width:300px">'+t[2]+"</div>")},language:{sProcessing:"拼命加载中...",sLengthMenu:"显示 _MENU_ 项结果",sZeroRecords:"没有匹配结果",sInfo:"显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项",sInfoEmpty:"显示第 0 至 0 项结果，共 0 项",sInfoFiltered:"(由 _MAX_ 项结果过滤)",sInfoPostFix:"",sSearch:"搜索:",sUrl:"",sEmptyTable:"表中数据为空",sLoadingRecords:"玩命加载中...",sInfoThousands:",",oPaginate:{sFirst:"首页",sPrevious:"上页",sNext:"下页",sLast:"末页"},oAria:{sSortAscending:": 以升序排列此列",sSortDescending:": 以降序排列此列"}}}),$.fn.dataTable.ext.errMode=function(e,t,n){}},selsect:function(){_this.filter={keywords:$("#keywords").val(),projectId:$("#projectId").val(),checkStatus:$("#searchDataTable").val()},DataTables.ajax.reload(null,!1)},openContent:function(e){var t=clearing_url;t+="/oid/"+e,layer.open({type:1,title:"标题",shadeClose:!0,shade:[.8,"#393D49"],scrollbar:!1,maxmin:!0,area:["99%","99%"],content:ID,success:function(){},end:function(){}})},confirm:function(e){parent.layer.confirm("确定结算？",{icon:3,title:"结算确认",yes:function(){$.ajax({url:clearing_url,type:"post",dataType:"json",data:{payRecordList:e},success:function(e){1==e.status&&(parent.layer.msg("结算已发送，耐心等待审核！"),DataTables.ajax.reload(),setTimeout(parent.layer.closeAll,1e3)),1e3==e.url&&parent.layer.alert(e.info,function(e){parent.openFrame(bankCard,"left-bankCard"),parent.layer.close(e)})},error:function(e){parent.layer.msg("网站被外星人绑架啦~(≧▽≦)~啦啦啦，请刷新页面！")}})},cancel:function(){_this.dataTable.api().ajax.reload()}})},each:function(){art=[],$.each($("[name=checkBoxes]:checked"),function(e,t){art.push($(t).attr("data-id"))});art.toString()}};